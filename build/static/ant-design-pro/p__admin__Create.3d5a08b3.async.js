(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[720],{78463:function(O,c,t){"use strict";var d=t(85893);c.Z=function(E){return(0,d.jsx)("div",{children:(0,d.jsx)("h2",{style:{marginBottom:"20px"},children:E.title})})}},23591:function(O,c,t){"use strict";t.r(c);var d=t(89816),E=t(6109),u=t(57663),o=t(71577),D=t(47673),P=t(1011),g=t(34792),v=t(48086),M=t(82471),p=t(84283),l=t(2824),s=t(67294),r=t(78463),a=t(73755),e=t(85893);c.default=function(){var _=(0,s.useState)([]),n=(0,l.Z)(_,2),i=n[0],f=n[1],U=(0,s.useState)(1),T=(0,l.Z)(U,2),y=T[0],I=T[1],x=(0,s.useState)(0),C=(0,l.Z)(x,2),R=C[0],B=C[1],Z=(0,s.useState)(!1),A=(0,l.Z)(Z,2),j=A[0],L=A[1],b=(0,s.useState)(!1),K=(0,l.Z)(b,2),w=K[0],S=K[1],Y=p.Z.useForm(),$=(0,l.Z)(Y,1),F=$[0],W=function(h){L(!0),(0,a.sK)(h,9).then(function(m){m.code===200?(f(m.data.data),B(m.data.total),I(h)):v.default.error(m.message),L(!1)})};(0,s.useEffect)(function(){W(1)},[]);var N=[{title:"ID",dataIndex:"id",key:"id"},{title:"Username",dataIndex:"username",key:"username"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.Z,{title:"Admin Management"}),(0,e.jsxs)(p.Z,{form:F,onFinish:function(h){S(!0),(0,a.uV)(h.username,h.password).then(function(m){m.code===200?(v.default.success("Create successfully!"),W(y)):v.default.error(m.message),S(!1)})},children:[(0,e.jsx)(p.Z.Item,{label:"Username",name:"username",rules:[{required:!0}],style:{width:"400px"},children:(0,e.jsx)(P.Z,{type:"text"})}),(0,e.jsx)(p.Z.Item,{label:"Password",name:"password",rules:[{required:!0}],style:{width:"400px"},children:(0,e.jsx)(P.Z,{type:"password"})}),(0,e.jsx)(o.Z,{type:"primary",style:{width:"200px"},htmlType:"submit",loading:w,children:"Submit"})]}),(0,e.jsx)("h3",{style:{marginTop:"30px",marginBottom:"30px"},children:"Current Admins"}),(0,e.jsx)(E.Z,{dataSource:i,columns:N,loading:j,pagination:{defaultCurrent:y,defaultPageSize:9,total:R,showSizeChanger:!1}})]})}},73755:function(O,c,t){"use strict";t.d(c,{sK:function(){return D},f5:function(){return P},uV:function(){return g},bS:function(){return v},dS:function(){return M},IK:function(){return p},gY:function(){return l}});var d=t(3182),E=t(94043),u=t.n(E),o=t(21010),D=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/list/",{method:"GET",params:{current:a,pageSize:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),P=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/password/"+a+"/",{method:"POST",data:{password:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),g=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/create/",{method:"POST",data:{username:a,password:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),v=function(){var s=(0,d.Z)(u().mark(function r(a,e,_){return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.WY)("/service/admin/node/list/"+_+"/",{method:"GET",params:{current:a,pageSize:e}}));case 1:case"end":return i.stop()}},r)}));return function(a,e,_){return s.apply(this,arguments)}}(),M=function(){var s=(0,d.Z)(u().mark(function r(a,e,_,n){return u().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,o.WY)("/service/admin/node/create/"+_+"/",{method:"POST",data:{host:a,password:e,username:n}}));case 1:case"end":return f.stop()}},r)}));return function(a,e,_,n){return s.apply(this,arguments)}}(),p=function(){var s=(0,d.Z)(u().mark(function r(a){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,o.WY)("/service/admin/node/delete/"+a+"/",{method:"DELETE"}));case 1:case"end":return _.stop()}},r)}));return function(a){return s.apply(this,arguments)}}(),l=function(){var s=(0,d.Z)(u().mark(function r(a,e){var _;return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return _=e?"1":"0",i.abrupt("return",(0,o.WY)("/service/admin/node/approved/"+a+"/",{method:"POST",data:{approved:_}}));case 2:case"end":return i.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}()}}]);
