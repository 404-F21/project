(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[720],{78463:function(M,p,t){"use strict";var d=t(85893);p.Z=function(E){return(0,d.jsx)("div",{children:(0,d.jsx)("h2",{style:{marginBottom:"20px"},children:E.title})})}},23591:function(M,p,t){"use strict";t.r(p);var d=t(89816),E=t(6109),u=t(57663),o=t(71577),T=t(47673),P=t(1011),y=t(34792),v=t(48086),C=t(82471),f=t(84283),l=t(2824),s=t(67294),r=t(78463),a=t(73755),e=t(85893);p.default=function(){var _=(0,s.useState)([]),n=(0,l.Z)(_,2),i=n[0],O=n[1],D=(0,s.useState)(1),g=(0,l.Z)(D,2),m=g[0],W=g[1],I=(0,s.useState)(0),A=(0,l.Z)(I,2),R=A[0],B=A[1],Z=(0,s.useState)(!1),L=(0,l.Z)(Z,2),j=L[0],U=L[1],b=(0,s.useState)(!1),x=(0,l.Z)(b,2),w=x[0],K=x[1],Y=f.Z.useForm(),$=(0,l.Z)(Y,1),F=$[0],S=function(h){U(!0),(0,a.sK)(h,9).then(function(c){c.code===200?(O(c.data.data),B(c.data.total),W(h)):v.default.error(c.message),U(!1)})};(0,s.useEffect)(function(){S(1)},[]);var N=[{title:"ID",dataIndex:"id",key:"id"},{title:"Username",dataIndex:"username",key:"username"}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(r.Z,{title:"Admin Management"}),(0,e.jsxs)(f.Z,{form:F,onFinish:function(h){K(!0),(0,a.uV)(h.username,h.password).then(function(c){c.code===200?(v.default.success("Create successfully!"),S(m)):v.default.error(c.message),K(!1)})},children:[(0,e.jsx)(f.Z.Item,{label:"Username",name:"username",rules:[{required:!0}],style:{width:"400px"},children:(0,e.jsx)(P.Z,{type:"text"})}),(0,e.jsx)(f.Z.Item,{label:"Password",name:"password",rules:[{required:!0}],style:{width:"400px"},children:(0,e.jsx)(P.Z,{type:"password"})}),(0,e.jsx)(o.Z,{type:"primary",style:{width:"200px"},htmlType:"submit",loading:w,children:"Submit"})]}),(0,e.jsx)("h3",{style:{marginTop:"30px",marginBottom:"30px"},children:"Current Admins"}),(0,e.jsx)(E.Z,{dataSource:i,columns:N,loading:j,pagination:{defaultCurrent:m,defaultPageSize:9,total:R,showSizeChanger:!1}})]})}},73755:function(M,p,t){"use strict";t.d(p,{sK:function(){return T},f5:function(){return P},uV:function(){return y},bS:function(){return v},dS:function(){return C},IK:function(){return f},gY:function(){return l}});var d=t(3182),E=t(94043),u=t.n(E),o=t(21010),T=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/list/",{method:"GET",params:{current:a,pageSize:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),P=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/password/"+a+"/",{method:"POST",data:{password:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),y=function(){var s=(0,d.Z)(u().mark(function r(a,e){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/service/admin/create/",{method:"POST",data:{username:a,password:e}}));case 1:case"end":return n.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}(),v=function(){var s=(0,d.Z)(u().mark(function r(a,e,_){return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.WY)("/service/admin/node/list/"+_+"/",{method:"GET",params:{current:a,pageSize:e}}));case 1:case"end":return i.stop()}},r)}));return function(a,e,_){return s.apply(this,arguments)}}(),C=function(){var s=(0,d.Z)(u().mark(function r(a,e,_,n,i,O,D){return u().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,o.WY)("/service/admin/node/create/"+_+"/",{method:"POST",data:{host:a,password:e,username:n,authorUrl:i,postUrl:O,nodeId:D}}));case 1:case"end":return m.stop()}},r)}));return function(a,e,_,n,i,O,D){return s.apply(this,arguments)}}(),f=function(){var s=(0,d.Z)(u().mark(function r(a){return u().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,o.WY)("/service/admin/node/delete/"+a+"/",{method:"DELETE"}));case 1:case"end":return _.stop()}},r)}));return function(a){return s.apply(this,arguments)}}(),l=function(){var s=(0,d.Z)(u().mark(function r(a,e){var _;return u().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return _=e?"1":"0",i.abrupt("return",(0,o.WY)("/service/admin/node/approved/"+a+"/",{method:"POST",data:{approved:_}}));case 2:case"end":return i.stop()}},r)}));return function(a,e){return s.apply(this,arguments)}}()}}]);
